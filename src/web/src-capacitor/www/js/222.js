"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[222],{9222:(e,t,o)=>{o.r(t),o.d(t,{default:()=>G});var i=o(9835),n=o(1957);const a=(0,i._)("div",{class:"fit full-height row no-wrap justify-center items-center content-center"},[(0,i._)("h4",{style:{color:"white"}},"Auslöser betätigen")],-1),l={class:""},r=(0,i._)("div",{class:""},[(0,i._)("h4",{style:{color:"white"}},"Auslöser betätigen")],-1),s={style:{overflow:"hidden",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",display:"flex","align-items":"center","justify-content":"center","justify-items":"center"}},c=(0,i._)("h1",{style:{color:"white"}},"Warte auf Bild",-1),u={key:0,style:{"background-color":"#33333333",cursor:"no-drop",position:"absolute",left:"0px",right:"0px",top:"0px",bottom:"0px","z-index":"999999"}},d={key:0,style:{position:"absolute",right:"18px",bottom:"18px"}},m=(0,i.Uk)("Setup-Mode verlassen"),g={key:0,style:{position:"absolute",right:"18px",top:"18px"}};function v(e,t,o,v,p,h){const w=(0,i.up)("q-btn"),f=(0,i.up)("q-dialog"),k=(0,i.up)("snes-countdown"),b=(0,i.up)("d-animation"),C=(0,i.up)("q-img"),W=(0,i.up)("q-fab"),_=(0,i.up)("q-fab-action"),y=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(y,{class:"clientPage",onClick:t[15]||(t[15]=e=>v.devModeTap())},{default:(0,i.w5)((()=>[a,(0,i.Wm)(f,{modelValue:v.showTrigger,"onUpdate:modelValue":t[2]||(t[2]=e=>v.showTrigger=e),class:"clientDialog",persistent:"",maximized:""},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"fit full-height column wrap justify-center items-center content-center",onClick:t[1]||(t[1]=e=>v.devModeTap())},[(0,i._)("div",l,[(0,i.Wm)(w,{icon:"camera",color:"white","text-color":"black",size:"xl",class:"trigger",onClick:t[0]||(t[0]=e=>v.clickTrigger()),round:""})]),r])])),_:1},8,["modelValue"]),(0,i.Wm)(f,{modelValue:v.showCountdown,"onUpdate:modelValue":t[3]||(t[3]=e=>v.showCountdown=e),class:"clientDialog",persistent:"",maximized:""},{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i.Wm)(k)])])),_:1},8,["modelValue"]),(0,i.Wm)(f,{modelValue:v.showWaitBetweenCountdownAndPreview,"onUpdate:modelValue":t[5]||(t[5]=e=>v.showWaitBetweenCountdownAndPreview=e),class:"clientDialog",persistent:"",maximized:""},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"fit full-height column wrap justify-center items-center content-center",onClick:t[4]||(t[4]=e=>v.devModeTap())},[(0,i._)("div",s,[(0,i.Wm)(b,{trigger:v.hideWatingAnimation,triggerWatch:v.updateFadeAnimation},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{trigger:v.showWatingAnimation,triggerWatch:v.updateShowWaitAnimation},{default:(0,i.w5)((()=>[c])),_:1},8,["trigger","triggerWatch"])])),_:1},8,["trigger","triggerWatch"])])])])),_:1},8,["modelValue"]),(0,i.Wm)(f,{modelValue:v.showPreview,"onUpdate:modelValue":t[7]||(t[7]=e=>v.showPreview=e),class:"clientDialog",persistent:"",maximized:""},{default:(0,i.w5)((()=>[(0,i._)("div",{onClick:t[6]||(t[6]=e=>v.devModeTap())},[(0,i.Wm)(C,{src:`${v.httpUrl}/${v.preview.imagePath}`,fit:"cover",height:"100%",width:"100%"},null,8,["src"])])])),_:1},8,["modelValue"]),v.devMode?((0,i.wg)(),(0,i.iD)("div",u,[(0,i.Wm)(n.uT,{appear:"","enter-active-class":"animated slideInUp","leave-active-class":"animated slideOutDown"},{default:(0,i.w5)((()=>[v.devMode?((0,i.wg)(),(0,i.iD)("div",d,[(0,i.Wm)(W,{icon:"close",color:"primary",onClick:t[8]||(t[8]=e=>v.devMode=!1)},{default:(0,i.w5)((()=>[m])),_:1}),(0,i.Wm)(W,{color:"primary",icon:"edit",direction:"up",label:"Modus","vertical-actions-align":"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{color:"primary","label-position":"left",label:"Auslöser + Countdown + Vorschau",icon:"camera",onClick:t[9]||(t[9]=e=>v.setMode("full"))}),(0,i.Wm)(_,{color:"primary","label-position":"left",label:"Auslöser + Countdown",icon:"123",onClick:t[10]||(t[10]=e=>v.setMode("trigger+countdown"))}),(0,i.Wm)(_,{color:"accent","label-position":"left",label:"Countdown + Vorschau",icon:"image",onClick:t[11]||(t[11]=e=>v.setMode("countdown+preview"))}),(0,i.Wm)(_,{color:"secondary","label-position":"left",label:"Nur letztes Bild",icon:"image",onClick:t[12]||(t[12]=e=>v.setMode("preview"))}),(0,i.Wm)(_,{color:"secondary","label-position":"left",label:"aktuelle Gallery Slides",icon:"collections"})])),_:1})])):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(n.uT,{appear:"","enter-active-class":"animated slideInDown","leave-active-class":"animated slideOutUp"},{default:(0,i.w5)((()=>[v.devMode?((0,i.wg)(),(0,i.iD)("div",g,[(0,i.Wm)(w,{color:"primary",rounded:"",icon:"fullscreen",onClick:t[13]||(t[13]=e=>v.goFullScreen())}),(0,i.Wm)(w,{color:"primary",rounded:"",icon:"close",label:"Client Modus verlassen",onClick:t[14]||(t[14]=e=>v.leaveClient())})])):(0,i.kq)("",!0)])),_:1})])):(0,i.kq)("",!0)])),_:1})}var p=o(499),h=o(899),w=o(6827),f=o(6431);const k={class:"countdownBackground"},b=(0,i._)("div",{class:"snesCountdownWrapper"},[(0,i._)("div",{class:"countdown"})],-1),C=[b];function W(e,t,o,n,a,l){return(0,i.wg)(),(0,i.iD)("div",k,C)}const _={name:"snesCountdown",components:{}};var y=o(1639);const A=(0,y.Z)(_,[["render",W]]),M=A;var T=o(6970);function D(e,t,o,n,a,l){return(0,i.wg)(),(0,i.iD)("span",{class:(0,T.C_)(l.animationClass["click"]),onClick:t[1]||(t[1]=e=>l.animateCheck("click"))},[(0,i._)("span",{class:(0,T.C_)(l.animationClass["hover"]),onMouseenter:t[0]||(t[0]=e=>l.animateCheck("hover"))},[(0,i._)("span",{class:(0,T.C_)(l.animationClass["trigger"])},[(0,i.WI)(e.$slots,"default",{},void 0,!0)],2)],34)],2)}o(702);const x={name:"dAnimation",props:{hover:Object,click:Object,trigger:Object,triggerWatch:Number},data(){return{animation:"",baseClass:"animate__animated animate__",types:["click","hover","trigger"],forceAnimate:{click:!1,hover:!1,trigger:!1},stopAnimationTimer:{click:void 0,hover:void 0,trigger:void 0},defaultDurations:{default:1e3,slow:2e3,slower:3e3,fast:800,faster:500}}},mounted(){!0===this.init&&this.animate()},beforeUnmount(){},computed:{animationClass(){const e={};for(const t of this.types)e[t]=this.forceAnimate[t]?`danimation ${this.baseClass}${this[t].animation} animate__${this[t].duration||""}`:"";return e}},watch:{trigger(e){this.animate("trigger")},triggerWatch(e){this.animateCheck("trigger")}},emits:["update"],methods:{animate(e){console.log("animate!",e),this.forceAnimate[e]=!1,setTimeout((()=>{var t;this.forceAnimate[e]=!0,this.stopAnimationTimer[e]&&clearTimeout(this.stopAnimationTimer[e]),this.stopAnimationTimer[e]=setTimeout((()=>{this.forceAnimate[e]=this.persistent||!1}),this.defaultDurations[(null===(t=this[e])||void 0===t?void 0:t.duration)||"default"])}),10)},animateCheck(e){this[e]&&this[e].animation&&this.animate(e)}}},S=(0,y.Z)(x,[["render",D],["__scopeId","data-v-59d4cf90"]]),I=S;var F=o(8339),Z=o(4858),j=o(3746),H=o(3577),O=o(8143);const V={name:"ClientPage",components:{DAnimation:I,SnesCountdown:M},setup(){const e=(0,f.T)(),t=(0,O.F)(),o=(0,F.tv)(),n=(0,Z.u)(),a=(0,p.iH)("full"),l={full:{trigger:!0,countdown:!0,preview:!0},"trigger+countdown":{trigger:!0,countdown:!0,preview:!1},"countdown+preview":{trigger:!1,countdown:!0,preview:!0},preview:{trigger:!1,countdown:!1,preview:!0}},r=(0,p.iH)({}),s=(0,p.iH)(!1),c=()=>{const e=["flip","jackInTheBox","jackInTheBox","lightSpeedInRight","lightSpeedInLeft","backInDown","backInUp","backInLeft","backInRight"];return e[Math.floor(Math.random()*e.length)]},u=()=>{const e=["lightSpeedInRight","hinge","hinge","lightSpeedOutLeft","backOutDown","backOutUp","backOutLeft","backOutRight","fadeOut","fadeOut"];return e[Math.floor(Math.random()*e.length)]},d=(0,p.iH)(0),m=(0,p.iH)(0),g=(0,i.Fl)((()=>({animation:c(),duration:"slower",updateShowWaitAnimation:m.value}))),v=(0,i.Fl)((()=>({animation:u(),duration:"slower",updateFadeAnimation:d.value}))),k=(0,p.iH)(0),{devMode:b}=(0,j.Jk)(n),C=30,W=(0,p.iH)(`Noch ${C-k.value} tippen für Einstellungen`),_=(0,h.Z)((()=>{k.value=0}),1e4),y=function(){if(n.goFullScreen(),k.value++,_(),k.value===C-10&&(this.notif=w.Z.create({caption:W,timeout:0,group:!1})),k.value>=C-10&&(W.value=`Noch ${C-k.value} tippen für Einstellungen`,this.notif({timeout:200})),k.value>=C)return b.value=!0,void(k.value=0)},A=(0,h.Z)((()=>{b.value=!1}),1e4),M=(0,h.Z)((()=>{b.value=!1}),300),T=()=>{n.goFullScreen(),e.emit("trigger")},D=(0,p.iH)(0),x=(0,i.Fl)((()=>({imagePath:"preview/preview.jpg?tid="+D.value}))),S=(0,p.iH)(!1);e.on("preview",(e=>{console.log("got preview from Server"),s.value=!1,D.value++,S.value=!0,x.value=e}));const I=(0,p.iH)(!1),V=(0,p.iH)({count:1,animation:"wobble",force:!0});e.on("countdown",(e=>{console.log("got countdown from Server"),r.value.countdown&&(I.value=!0)})),e.on("pictureTaken",(e=>{var o,i,n,a;console.log("countdown End",-1*parseInt(null===(o=t.settings)||void 0===o||null===(i=o.camera)||void 0===i?void 0:i.triggerDelay)),setTimeout((()=>{V.value={count:2,animation:"heartBeat",speed:"fast",force:!0}}),-1*parseInt(null===(n=t.settings)||void 0===n||null===(a=n.camera)||void 0===a?void 0:a.triggerDelay))})),e.on("countdownEnd",(e=>{setTimeout((()=>{I.value=!1,s.value=!0,setTimeout((()=>m.value++),1),setTimeout((()=>d.value++),2500)}),1e3)}));const P=(0,p.iH)(!1),U=()=>{o.push("/")};(0,i.bv)((()=>{n.showHeader=!1,n.showMenu=!1,n.goFullScreen(),console.log("reset handle dada?"),e.on("setClientMode",(()=>{q(a.value)}))})),(0,i.Ah)((()=>{n.showHeader=!0,n.showMenu=!0,n.leftDrawerOpen=!0}));const q=e=>{switch(r.value=l[e],a.value=e,console.log(a.value),a.value){case"full":P.value=!0,I.value=!1,S.value=!1;break;case"trigger+countdown":P.value=!0,I.value=!1,S.value=!1;break;case"countdown+preview":P.value=!1,I.value=!1,S.value=!1;break;case"preview":P.value=!1,I.value=!1,S.value=!0;break}};return q(a.value),{modes:l,mode:a,setMode:q,devModeTap:y,devMode:b,hideDevMode:A,hideDevModeQuickly:M,clickTrigger:T,showPreview:S,preview:x,showCountdown:I,endOfCountdown:V,showTrigger:P,showWaitBetweenCountdownAndPreview:s,showWatingAnimation:g,hideWatingAnimation:v,updateFadeAnimation:d,updateShowWaitAnimation:m,leaveClient:U,goFullScreen:n.goFullScreen,httpUrl:H.D}}};var P=o(9885),U=o(2074),q=o(4455),B=o(335),Q=o(9361),$=o(935),z=o(2857),E=o(2146),L=o(9984),N=o.n(L);const R=(0,y.Z)(V,[["render",v]]),G=R;N()(V,"components",{QPage:P.Z,QDialog:U.Z,QBtn:q.Z,QImg:B.Z,QFab:Q.Z,QFabAction:$.Z,QIcon:z.Z}),N()(V,"directives",{ClosePopup:E.Z})}}]);